# 生物实验室库存管理系统

一个专为生物实验室设计的库存管理系统，支持物料管理和订单管理，采用MVC架构设计。

## 功能特点

### 🧪 物料管理
- **添加物料**: 支持添加新的实验物料，包括名称、类别、数量、单位等信息
- **编辑物料**: 修改现有物料的信息
- **删除物料**: 删除不需要的物料
- **搜索功能**: 按名称、类别或描述搜索物料
- **库存监控**: 自动监控库存不足的物料

### 📋 订单管理
- **创建订单**: 创建新的物料申请订单
- **编辑订单**: 修改订单信息和物料清单
- **订单状态**: 支持待处理、处理中、已完成、已取消等状态
- **优先级管理**: 支持低、普通、高、紧急四个优先级
- **库存更新**: 完成订单时自动更新库存

### 📊 报告生成
- **HTML报告**: 一键生成包含订单详细信息的HTML报告
- **多订单选择**: 支持选择多个订单生成综合报告
- **美观界面**: 报告采用现代化设计，适合打印和分享

### 🎨 富文本支持
- **Emoji支持**: 内置常用emoji选择器，方便添加表情符号
- **富文本描述**: 支持在物料描述中使用emoji和格式化文本

## 技术架构

### MVC架构
- **Model**: `models.py` - 定义数据模型
- **View**: `views.py` - 用户界面层
- **Controller**: `controllers.py` - 业务逻辑层

### 数据库
- 使用SQLite数据库存储数据
- 自动创建表结构和索引
- 支持数据备份和恢复

### 界面技术
- 使用tkinter构建图形界面
- 响应式布局设计
- 支持多标签页操作

## 安装和运行

### 系统要求
- Python 3.7+
- tkinter (通常随Python一起安装)

### 运行步骤
1. 确保已安装Python 3.7或更高版本
2. 下载所有源代码文件到同一目录
3. 运行主程序：
   ```bash
   python main.py
   ```

### 文件结构
```
├── main.py          # 主程序入口
├── models.py        # 数据模型
├── views.py         # 用户界面
├── controllers.py   # 业务逻辑控制器
├── database.py      # 数据库管理
├── inventory.db     # SQLite数据库文件（自动创建）
└── README.md        # 说明文档
```

## 使用指南

### 物料管理
1. 点击"物料管理"标签页
2. 使用"添加物料"按钮创建新物料
3. 填写物料信息，包括：
   - 物料名称（必填）
   - 类别（必填）
   - 数量（必填）
   - 单位（必填）
   - 最低库存
   - 存放位置
   - 供应商
   - 描述（支持emoji）
4. 使用搜索框快速查找物料
5. 选择物料后可以编辑或删除

### 订单管理
1. 点击"订单管理"标签页
2. 使用"创建订单"按钮创建新订单
3. 填写订单信息：
   - 申请人（必填）
   - 部门
   - 优先级
   - 状态
   - 备注
4. 添加需要的物料到订单中
5. 保存订单
6. 使用状态筛选查看不同状态的订单
7. 完成订单时会自动更新库存

### 报告生成
1. 点击"报告生成"标签页
2. 在订单列表中选择要生成报告的订单（支持多选）
3. 点击"生成报告"按钮
4. 选择保存位置和文件名
5. 系统会生成HTML格式的报告
6. 可以选择直接在浏览器中打开报告

## 数据模型

### 物料表 (materials)
- id: 主键
- name: 物料名称
- category: 类别
- description: 描述
- quantity: 当前数量
- unit: 单位
- min_stock: 最低库存
- location: 存放位置
- supplier: 供应商
- created_at: 创建时间
- updated_at: 更新时间

### 订单表 (orders)
- id: 主键
- order_number: 订单号
- requester: 申请人
- department: 部门
- status: 状态
- priority: 优先级
- notes: 备注
- created_at: 创建时间
- updated_at: 更新时间
- completed_at: 完成时间

### 订单物料关联表 (order_materials)
- id: 主键
- order_id: 订单ID
- material_id: 物料ID
- quantity: 数量
- notes: 备注

### 库存变动记录表 (stock_movements)
- id: 主键
- material_id: 物料ID
- movement_type: 变动类型（入库/出库/调整）
- quantity: 变动数量
- reference_id: 参考ID（如订单ID）
- notes: 备注
- created_at: 创建时间

## 特色功能

### Emoji支持
系统内置了常用的实验相关emoji，包括：
- 🧪 试管
- 🔬 显微镜
- ⚗️ 蒸馏器
- 🧬 DNA
- 🦠 细菌
- 💊 药品
- 💉 注射器
- 🧫 培养皿
- 等等...

### 智能库存管理
- 自动记录所有库存变动
- 支持库存不足提醒
- 完成订单时自动扣减库存
- 支持库存调整功能

### 美观的报告
生成的HTML报告具有：
- 现代化的设计风格
- 响应式布局
- 清晰的数据展示
- 适合打印的格式

## 注意事项

1. 首次运行时会自动创建数据库文件
2. 建议定期备份数据库文件
3. 删除物料前请确保没有相关订单
4. 完成订单前请确认库存充足
5. 报告文件建议保存在安全的位置

## 技术支持

如有问题或建议，请检查：
1. Python版本是否符合要求
2. 所有文件是否在同一目录
3. 是否有足够的磁盘空间
4. 数据库文件是否可写

## 版本信息

- 版本: 1.0
- 开发语言: Python
- 数据库: SQLite
- 界面框架: tkinter
- 架构模式: MVC
